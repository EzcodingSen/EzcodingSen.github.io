---
title: 'CTC decoder in PaddleOCR'
date: 2024-12-04
permalink: /notebook/2024/12/CTC decoder in PaddleOCR/
tags:
  - OCR
---

CTC decoder in PaddleOCR
====

CTC 解码器的理论：
=====
CTC（Connectionist Temporal Classification）解码器是一种专为处理输入长度和输出序列长度不一致的序列建模问题而设计的算法。它特别适用于语音识别、文本识别（如OCR）等领域。他的基本思想是从一个输入序列 
𝑋中预测一个对齐的输出序列𝑌，同时**避免显式地对每个输入和输出时间步进行对齐**。
怎么理解这个显式的对齐呢？举个例子：输入是一段语音，输出是文字。显示的对齐则需要手动标记每个语音帧的输出字符。显然这是非常繁琐昂贵的。为此，CTC引入了一个特殊的 "blank" 标签（通常记为 "−" 或 "𝜖"），用于表示**无输出或忽略**的时间步，从而允许输出序列的长度小于输入序列。
CTC的核心步骤
----
1.对齐路径（Alignment Paths）
CTC定义了所有可能的对齐路径，用来从输入序列生成目标输出序列。这些路径包括目标序列插入 "blank" 标签后的所有可能时间步扩展。例如：
输入序列长度：5
输出序列：𝐴𝐵
可能的路径是：A--B,A-B-,-AB-等。
路径概率计算
给定模型输出的每个时间步上的概率分布 
𝑃(𝑐<sup>𝑡<sup>∣𝑡)（即预测某字符𝑐<sup>𝑡<sup>在时间 𝑡的概率），CTC计算每条路径的概率作为这些时间步概率的乘积：